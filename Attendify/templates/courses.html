{% extends 'base.html' %}
{% block title %}Courses{% endblock %}
{% block content %}
  <div class="header-row">
    <div><h2>Courses</h2><p class="small">Manage courses.</p></div>
    <div class="actions"><a class="btn btn-primary" href="{{ url_for('main.add_course') }}">Add Course</a></div>
  </div>
  <table>
    <thead><tr><th>#</th><th>Code</th><th>Title</th><th>Actions</th></tr></thead>
    <tbody>
      {% for c in courses %}
        <tr><td>{{ loop.index }}</td><td>{{ c.code }}</td><td>{{ c.title }}</td>
        <td>
          <a class="btn" href="{{ url_for('main.edit_course', id=c.id) }}">Edit</a>
          <form style="display:inline" method="post" action="{{ url_for('main.delete_course', id=c.id) }}" onsubmit="return confirm('Delete this course?');">
            <button type="submit" class="btn btn-danger">Delete</button>
          </form>
        </td></tr>
      {% else %}
        <tr><td colspan="4">No courses yet.</td></tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}

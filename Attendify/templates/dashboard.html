{% extends 'base.html' %}
{% block title %}Dashboard{% endblock %}
{% block content %}
  <div class="header-row">
    <div>
      <h2>Dashboard</h2>
      <p class="small">Overview.</p>
    </div>
    <div class="actions">
      <a class="btn btn-primary" href="{{ url_for('main.students') }}">Manage Students</a>
      <a class="btn btn-secondary" href="{{ url_for('main.attendance_list') }}">View Attendance</a>
    </div>
  </div>

  <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:18px;">
    <div style="padding:12px;border-radius:8px;background:#fff;border:1px solid #eef2f7;">
      <h3>Total Students</h3>
      <p style="font-size:1.6rem;font-weight:700">{{ total_students }}</p>
    </div>
    <div style="padding:12px;border-radius:8px;background:#fff;border:1px solid #eef2f7;">
      <h3>Total Attendance Records</h3>
      <p style="font-size:1.6rem;font-weight:700">{{ total_attendance }}</p>
    </div>
    <div style="padding:12px;border-radius:8px;background:#fff;border:1px solid #eef2f7;">
      <h3>Quick Links</h3>
      <p><a href="{{ url_for('main.attendance_list') }}">Attendance</a> · <a href="{{ url_for('main.report') }}">Reports</a></p>
    </div>
  </div>

  <h3>Recent Attendance</h3>
  <ul>
    {% for a in recent %}
      <li>{{ a.date }} — {{ a.student.full_name() }} — {{ a.status }}</li>
    {% else %}
      <li>No recent attendance.</li>
    {% endfor %}
  </ul>
{% endblock %}
